(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"++so":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div id="+c("function"==typeof(i=null!=(i=u(n,"name")||(null!=t?u(t,"name"):t))?i:s)?i.call(r,{name:"name",hash:{},data:o,loc:{start:{line:1,column:8},end:{line:1,column:16}}}):i)+' class="btn-wrapper"><span class="added-city">'+c("function"==typeof(i=null!=(i=u(n,"name")||(null!=t?u(t,"name"):t))?i:s)?i.call(r,{name:"name",hash:{},data:o,loc:{start:{line:1,column:62},end:{line:1,column:70}}}):i)+'</span><button class="cross-btn"\n        data-id='+c("function"==typeof(i=null!=(i=u(n,"name")||(null!=t?u(t,"name"):t))?i:s)?i.call(r,{name:"name",hash:{},data:o,loc:{start:{line:2,column:16},end:{line:2,column:24}}}):i)+"></button>\n</div>"},useData:!0})},"7wDS":function(e,t,n){},"B/zZ":function(e,t,n){},DXcT:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("DXcT"),n("B/zZ"),n("7wDS"),n("JBxO"),n("FdtR");var a=function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&units=metric&appid=51a63d6e6f44d74434ee7d0893876caf").then((function(e){return e.json()}))},o=(n("RtS0"),n("IvQZ"),n("uQK7"),n("8cZI"),n("lmye"),n("Xlt+"),n("D/wG"),n("ZEAQ"),n("JjHl"),n("e+qc"),n("3dw1"),n("zrP5"),n("JauC"),n("bzha"),n("++so")),i=n.n(o);function r(e){return fetch("https://corona.lmao.ninja/v2/countries/"+e).then((function(e){return e.json()})).then((function(e){!function(e){s.country.textContent=""+e.country,s.sickNow.textContent=""+e.active,s.todayCases.textContent=""+e.todayCases,s.todayRecovered.textContent=""+e.todayRecovered,s.todayDeaths.textContent=""+e.todayDeaths,s.totalCases.textContent=""+e.cases,s.recovered.textContent=""+e.recovered,s.deaths.textContent=""+e.deaths}(e)}))}var s={country:document.querySelector(".covidCountry"),sickNow:document.querySelector(".sickNow"),todayCases:document.querySelector(".todayCases"),todayRecovered:document.querySelector(".todayRecovered"),todayDeaths:document.querySelector(".todayDeaths"),totalCases:document.querySelector(".totalCases"),recovered:document.querySelector(".recovered"),deaths:document.querySelector(".deaths")};var c={query:"",key:"16836748-77bdb9d8e6a7ff11ccb0a1780",fetchBgImage:function(e){return fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&category=places,buildings&q="+e+"&key="+this.key).then((function(e){return e.json()}))},get searchQuery(){return this.query},set searchQuery(e){this.query=e}},u=n("QJ3N");function l(e){return fetch("https://api.openweathermap.org/data/2.5/forecast?q="+e+"&units=metric&appid=51a63d6e6f44d74434ee7d0893876caf").then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}var m=n("qlKC"),d=n.n(m),p={CCName:document.querySelector(".cityName"),input:document.querySelector(".main-input"),modal:document.querySelector(".list-modal"),days:document.querySelector(".list--days"),modalLink:document.querySelectorAll(".more-info")};function y(e){e.list;var t={},n=e.city.name+", "+e.city.country;for(var a in p.CCName.textContent=n,e.list.forEach((function(e){var n=new Date(1e3*e.dt);p.days.textContent="",n.getDay(),(new Date).getDay();var a=n.toLocaleDateString("en-US",{weekday:"long"});void 0===t[a]?t[a]={name:a,date:n.getDate()+" "+n.toLocaleDateString("en-US",{month:"short"}),icon:"http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",min:e.main.temp_min.toFixed(0),max:e.main.temp_max.toFixed(0)}:(t[a].min=t[a].min>e.main.temp_min?e.main.temp_min.toFixed(0):t[a].min,t[a].max=t[a].max<e.main.temp_max?e.main.temp_max.toFixed(0):t[a].max)})),t)p.days.insertAdjacentHTML("beforeend",d()(t[a]))}var g=new BDCReverseGeocode,h=n("jffb"),f=!1;function v(e){f=!0,l(e.target.value).then((function(e){y(e);e.list[1].main.temp,e.list[2].main.temp,e.list[3].main.temp,e.list[4].main.temp,e.list[5].main.temp,e.list[1].main.humidity,e.list[2].main.humidity,e.list[3].main.humidity,e.list[4].main.humidity,e.list[5].main.humidity,e.list[1].wind.speed,e.list[2].wind.speed,e.list[3].wind.speed,e.list[4].wind.speed,e.list[5].wind.speed,e.list[1].main.pressure,e.list[2].main.pressure,e.list[3].main.pressure,e.list[4].main.pressure,e.list[5].main.pressure,e.list[1].dt_txt,e.list[2].dt_txt,e.list[3].dt_txt,e.list[4].dt_txt,e.list[5].dt_txt}))}f?v():g.getClientLocation((function(e){l(e.localityInfo.administrative[1].name).then((function(e){y(e)}))})),p.input.addEventListener("input",h(v,1e3));var w,x=n("jffb"),C={body:document.querySelector("body"),input:document.querySelector(".main-input"),citiesMemory:document.querySelector(".added-city"),deleteCityBtn:document.querySelector(".cross-btn"),saveCityBtn:document.querySelector(".save-btn"),citiesContainer:document.querySelector(".favorit"),weatherContainerLocation:document.querySelector(".city"),weatherCity:document.getElementById("weather_city"),currentTemp:document.getElementById("weather_temp"),minTemp:document.getElementById("weather-min_temp"),todayBTN:document.querySelector(".todayBTN"),daysBTN:document.querySelector(".daysBTN"),maxTemp:document.getElementById("weather-max_temp"),weatherIcon:document.getElementById("weather_icon"),currentDate:document.getElementById("date"),currentDay:document.getElementById("day"),currentMonth:document.getElementById("month"),currentTimeHr:document.getElementById("current-time-hr"),currentTimeMin:document.getElementById("current-time-min"),sunrise:document.getElementById("sunrise"),sunset:document.getElementById("sunset")},S=new BDCReverseGeocode;function I(e){c.fetchBgImage(e).then((function(e){e.hits[q()].largeImageURL,C.body.style.backgroundImage="url("+e.hits[q()].largeImageURL+")"}))}window.addEventListener("load",(function(){S.getClientLocation((function(e){c.searchQuery=e.localityInfo.administrative[1].name,I(c.searchQuery),a(e.localityInfo.administrative[1].name).then((function(e){r(Object.values(e.sys.country).join(""));var t=e.coord.lon,n=e.coord.lat,a=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(n,t),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11}),o=((new Date).getTime(),new google.maps.ImageMapType({getTileUrl:function(e,t){return"https://tiles.aqicn.org/tiles/usepa-aqi/"+t+"/"+e.x+"/"+e.y+".png?token=_TOKEN_ID_"},name:"Air  Quality"}));a.overlayMapTypes.insertAt(0,o),{name:e.name,html:i()(e)},b(e)})).catch((function(e){Object(u.error)({delay:2e3,maxTextHeight:null,text:"CAN'T FIND YOUR REQUEST. PLEASE TRY AGAIN."})}))}))}));var T=JSON.parse(localStorage.getItem("Cities")),D=[],E={findedCities:D,storedCities:T};null!==T&&T.forEach((function(e){w=e,B()}));function B(){C.saveCityBtn.classList.add("starred"),setTimeout((function(){C.saveCityBtn.classList.remove("starred")}),250);var e=w;if(e&&!D.includes(e)){D.push(e),D.length>=7&&D.splice(0,1);var t=D.map((function(e){return"\n        <div id="+e+' class="btn-wrapper">\n          <span class="added-city">'+e+'</span>\n          <button class="cross-btn" data-id='+e+"></button>\n        </div>"})).join("");C.citiesContainer.innerHTML=t,C.input.value="",localStorage.setItem("Cities",JSON.stringify(D))}}function b(e){if(200===e.cod){var t="http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",n=new Date(1e3*e.dt);C.weatherIcon.src=t,C.weatherIcon.classList.add("visible"),C.weatherCity.textContent=e.name+", "+e.sys.country,C.currentTemp.textContent=""+e.main.temp.toFixed(1),C.minTemp.textContent=""+e.main.temp_min.toFixed(1),C.maxTemp.textContent=""+e.main.temp_max.toFixed(1),C.currentDate.textContent=n.getDate(),C.currentDay.textContent=n.toLocaleDateString("en-US",{weekday:"short"}),C.currentMonth.textContent=n.toLocaleDateString("en-US",{month:"long"}),C.currentTimeHr.textContent=String(n.getHours()).padStart(2,0)+":",C.currentTimeMin.textContent=String(n.getMinutes()).padStart(2,0),C.sunrise.textContent=String(new Date(1e3*e.sys.sunrise).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunrise).getMinutes()).padStart(2,0),C.sunset.textContent=String(new Date(1e3*e.sys.sunset).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunset).getMinutes()).padStart(2,0)}}function q(e,t){return 1,20,Math.floor(19*Math.random())+1}C.input.addEventListener("input",x((function(e){var t=e.target.value;a(t).then((function(e){r(Object.values(e.sys.country).join(""));var t=e.coord.lon,n=e.coord.lat,a=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(n,t),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11}),o=((new Date).getTime(),new google.maps.ImageMapType({getTileUrl:function(e,t){return"https://tiles.aqicn.org/tiles/usepa-aqi/"+t+"/"+e.x+"/"+e.y+".png?token=_TOKEN_ID_"},name:"Air  Quality"}));a.overlayMapTypes.insertAt(0,o),200!==e.cod||D.includes(e.name)?null:(C.saveCityBtn.classList.remove("starred"),c.searchQuery=e.name,I(c.searchQuery),w=e.name,{name:e.name,html:i()(e)},b(e))})).catch((function(e){Object(u.error)({delay:2e3,maxTextHeight:null,text:"CAN'T FIND YOUR REQUEST. PLEASE TRY AGAIN."})}))}),1500)),C.saveCityBtn.addEventListener("click",B),document.addEventListener("click",(function(e){if(e.target&&"cross-btn"===e.target.className){var t=e.target.dataset.id;document.getElementById(t).remove(),D.splice(D.indexOf(t),1),T.splice(T.indexOf(t),1),console.log(T),localStorage.setItem("Cities",JSON.stringify(T))}})),document.addEventListener("click",(function(e){if("added-city"!==e.target.className)return;var t=e.target.textContent;c.searchQuery=t,C.input.value="",I(c.searchQuery),a(t).then((function(e){var t=Object.values(e.sys.country).join("");r(t),I(t),b(e),c.searchQuery=e.name,{name:e.name,html:i()(e)}})),l(t).then((function(e){y(e)}))})),C.daysBTN.addEventListener("click",(function(){document.querySelector(".modal").classList.add("slide-in2"),document.querySelector(".weather-container").classList.add("slide-out1")})),C.todayBTN.addEventListener("click",(function(){document.querySelector(".modal").classList.remove("slide-in2"),document.querySelector(".weather-container").classList.remove("slide-out1")}));n("4NM0");function L(e,t){return 1,20,Math.floor(19*Math.random())+1}document.querySelector(".talk-btn").addEventListener("click",(function(){var e=new(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition);e.lang="ru-RU",e.onresult=function(e){var t=e.results[0][0].transcript;M.value=t,""!==M.value&&(a(t).then((function(e){var t;r(Object.values(e.sys.country).join("")),function(e){if(200===e.cod){var t="http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",n=new Date(1e3*e.dt);_.weatherIcon.src=t,_.weatherIcon.classList.add("visible"),_.weatherCity.textContent=e.name+", "+e.sys.country,_.currentTemp.textContent=""+e.main.temp.toFixed(1),_.minTemp.textContent=""+e.main.temp_min.toFixed(1),_.maxTemp.textContent=""+e.main.temp_max.toFixed(1),_.currentDate.textContent=n.getDate(),_.currentDay.textContent=n.toLocaleDateString("en-US",{weekday:"short"}),_.currentMonth.textContent=n.toLocaleDateString("en-US",{month:"long"}),_.currentTimeHr.textContent=String(n.getHours()).padStart(2,0)+":",_.currentTimeMin.textContent=String(n.getMinutes()).padStart(2,0),_.sunrise.textContent=String(new Date(1e3*e.sys.sunrise).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunrise).getMinutes()).padStart(2,0),_.sunset.textContent=String(new Date(1e3*e.sys.sunset).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunset).getMinutes()).padStart(2,0)}}(e),t=e.name,c.fetchBgImage(t).then((function(e){e.hits[L()].largeImageURL,_.body.style.backgroundImage="url("+e.hits[L()].largeImageURL+")"})),function(e){if(_.saveCityBtn.classList.add("starred"),setTimeout((function(){_.saveCityBtn.classList.remove("starred")}),250),e&&!E.findedCities.includes(e)){E.findedCities.push(e),E.findedCities.length>=7&&E.findedCities.splice(0,1);var t=E.findedCities.map((function(e){return"\n\t\t  <div id="+e+' class="btn-wrapper">\n\t\t\t<span class="added-city">'+e+'</span>\n\t\t\t<button class="cross-btn" data-id='+e+"></button>\n\t\t  </div>"})).join("");_.citiesContainer.innerHTML=t,_.input.value="",localStorage.setItem("Cities",JSON.stringify(E.findedCities))}}(e.name);var n=e.coord.lon,a=e.coord.lat,o=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(a,n),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11}),i=((new Date).getTime(),new google.maps.ImageMapType({getTileUrl:function(e,t){return"https://tiles.aqicn.org/tiles/usepa-aqi/"+t+"/"+e.x+"/"+e.y+".png?token=_TOKEN_ID_"},name:"Air  Quality"}));o.overlayMapTypes.insertAt(0,i)})),l(t).then((function(e){y(e)})))},e.start()}));var M=document.querySelector(".main-input"),_={body:document.querySelector("body"),input:document.querySelector(".main-input"),citiesMemory:document.querySelector(".added-city"),deleteCityBtn:document.querySelector(".cross-btn"),saveCityBtn:document.querySelector(".save-btn"),citiesContainer:document.querySelector(".favorit"),weatherContainerLocation:document.querySelector(".city"),weatherCity:document.getElementById("weather_city"),currentTemp:document.getElementById("weather_temp"),minTemp:document.getElementById("weather-min_temp"),maxTemp:document.getElementById("weather-max_temp"),weatherIcon:document.getElementById("weather_icon"),currentDate:document.getElementById("date"),currentDay:document.getElementById("day"),currentMonth:document.getElementById("month"),currentTimeHr:document.getElementById("current-time-hr"),currentTimeMin:document.getElementById("current-time-min"),sunrise:document.getElementById("sunrise"),sunset:document.getElementById("sunset")};n("YCls")},YCls:function(e,t,n){},qlKC:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",u=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li class="list--item">\n        <h2 class="name--day">'+u(typeof(i=null!=(i=l(n,"name")||(null!=t?l(t,"name"):t))?i:s)===c?i.call(r,{name:"name",hash:{},data:o,loc:{start:{line:2,column:30},end:{line:2,column:38}}}):i)+'</h2>\n        <p class="date-yarik">'+u(typeof(i=null!=(i=l(n,"date")||(null!=t?l(t,"date"):t))?i:s)===c?i.call(r,{name:"date",hash:{},data:o,loc:{start:{line:3,column:30},end:{line:3,column:38}}}):i)+'</p>\n        <div class="icon--overley">\n          <img src='+u(typeof(i=null!=(i=l(n,"icon")||(null!=t?l(t,"icon"):t))?i:s)===c?i.call(r,{name:"icon",hash:{},data:o,loc:{start:{line:5,column:19},end:{line:5,column:27}}}):i)+' class="icon--weather"/>\n        </div>\n        <div class="temp">\n          <p class="min-temp">min <br> <span class="num">'+u(typeof(i=null!=(i=l(n,"min")||(null!=t?l(t,"min"):t))?i:s)===c?i.call(r,{name:"min",hash:{},data:o,loc:{start:{line:8,column:57},end:{line:8,column:64}}}):i)+'</span> </p>\n          <div class="line"></div>\n          <p class="max-temp">max <br> <span class="num">'+u(typeof(i=null!=(i=l(n,"max")||(null!=t?l(t,"max"):t))?i:s)===c?i.call(r,{name:"max",hash:{},data:o,loc:{start:{line:10,column:57},end:{line:10,column:64}}}):i)+"</span></p>\n        </div>\n</li>"},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.584f18629722256ad156.js.map