{"version":3,"sources":["webpack:///./templates/memory.hbs","webpack:///./api/weather.js","webpack:///./api/forecast.js","webpack:///./js/work2.js","webpack:///./api/corona.js","webpack:///./api/pixabay.js","webpack:///./js/requests.js","webpack:///./js/speech.js","webpack:///./api/airq.js","webpack:///./templates/hbs-li.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","city","fetch","then","response","json","fetchWeather","catch","error","console","refs","CCName","document","querySelector","input","modal","days","modalLink","querySelectorAll","buildPostFeed","list","arrDays","cityName","name","country","value","textContent","forEach","dt","Date","getDay","day","toLocaleDateString","weekday","undefined","date","getDate","month","icon","weather","min","main","temp_min","toFixed","max","temp_max","insertAdjacentHTML","templateLi","reverseGeocoder","BDCReverseGeocode","debounce","require","isActive","searchFromInput","e","fetchForeCust","target","log","temp","humidity","wind","speed","pressure","dt_txt","getClientLocation","result","localityInfo","administrative","addEventListener","fetchCovid","query","covidRefs","sickNow","active","todayCases","todayRecovered","todayDeaths","totalCases","cases","recovered","deaths","renderCovidInfo","key","fetchBgImage","ct","baseUrl","this","string","body","citiesMemory","deleteCityBtn","saveCityBtn","citiesContainer","weatherContainerLocation","weatherCity","getElementById","currentTemp","minTemp","todayBTN","daysBTN","maxTemp","weatherIcon","currentDate","currentDay","currentMonth","currentTimeHr","currentTimeMin","sunrise","sunset","fetchPixabayBgImg","fetchPixabay","parsedResponse","hits","getRandomInt","largeImageURL","style","backgroundImage","window","searchQuery","values","sys","join","airlon","coord","lon","airlat","lat","map","google","maps","Map","center","LatLng","mapTypeId","MapTypeId","ROADMAP","zoom","waqiMapOverlay","getTime","ImageMapType","getTileUrl","x","y","overlayMapTypes","insertAt","html","memoryBuilder","updatePageHtml","err","delay","maxTextHeight","text","storedCities","JSON","parse","localStorage","getItem","findedCities","insertCityToTheMemory","classList","add","setTimeout","remove","includes","push","length","splice","allLi","innerHTML","setItem","stringify","cod","img","src","String","getHours","padStart","getMinutes","Math","floor","random","className","id","dataset","indexOf","clickedCityName","keys","forecast","talkBtn","dir","SpeechRecognition","webkitSpeechRecognition","mozSpeechRecognition","msSpeechRecognition","lang","onresult","event","voiceCity","results","transcript","inputSpeech","fetchPx","insertCityToTheMemor","start","alias3"],"mappings":"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","file":"main.29b7c0e566b02f7117d6.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":8},\"end\":{\"line\":1,\"column\":16}}}) : helper)))\n    + \" class=\\\"btn-wrapper\\\"><span class=\\\"added-city\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":62},\"end\":{\"line\":1,\"column\":70}}}) : helper)))\n    + \"</span><button class=\\\"cross-btn\\\"\\r\\n        data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":16},\"end\":{\"line\":2,\"column\":24}}}) : helper)))\n    + \"></button>\\r\\n</div>\";\n},\"useData\":true});","\r\nconst apiKey = '51a63d6e6f44d74434ee7d0893876caf';\r\nconst url = `https://api.openweathermap.org/data/2.5/weather?q=`;\r\n\r\nexport default {\r\n  fetchWeather(city) {\r\n    return fetch(`${url}${city}&units=metric&appid=${apiKey}`)\r\n    .then(response =>\r\n      response.json(),\r\n    );\r\n  },\r\n};","const urlForecast = \"forecast\"\r\nconst url = 'https://api.openweathermap.org/data/2.5/';\r\nconst apiKey = '51a63d6e6f44d74434ee7d0893876caf';\r\n\r\nexport default function fetchWeather(city) {\r\n  return fetch(`${url}${urlForecast}?q=${city}&units=metric&appid=${apiKey}`)\r\n  .then(response => response.json())\r\n  .catch(error => console.error(error));\r\n}\r\n","import fetchForeCust from '../api/forecast.js';\r\nimport templateLi from '../templates/hbs-li.hbs';\r\n\r\nconst refs = {\r\n  CCName: document.querySelector('.cityName'),\r\n  input: document.querySelector('.main-input'),\r\n  modal: document.querySelector('.list-modal'),\r\n  days: document.querySelector('.list--days'),\r\n  modalLink: document.querySelectorAll('.more-info'),\r\n};\r\n\r\nlet dataList = [];\r\n\r\nexport default function buildPostFeed(data) {\r\n  dataList = data.list;\r\n  let arrDays = {};\r\n  const cityName = `${data.city.name}, ${data.city.country}`;\r\n  refs.CCName.textContent = cityName;\r\n  data.list.forEach(value => {\r\n    let dt = new Date(value.dt * 1000);\r\n    refs.days.textContent = '';\r\n    if (dt.getDay() !== new Date().getDay() || true) {\r\n      let day = dt.toLocaleDateString('en-US', {\r\n        weekday: 'long',\r\n      });\r\n      if (arrDays[day] === undefined) {\r\n        arrDays[day] = {\r\n          name: day,\r\n          date: `${dt.getDate()} ${dt.toLocaleDateString('en-US', {\r\n            month: 'short',\r\n          })}`,\r\n          icon: `http://openweathermap.org/img/wn/${value.weather[0].icon}@2x.png`,\r\n          min: value.main.temp_min.toFixed(0),\r\n          max: value.main.temp_max.toFixed(0),\r\n        };\r\n      } else {\r\n        arrDays[day].min =\r\n          arrDays[day].min > value.main.temp_min\r\n            ? value.main.temp_min.toFixed(0)\r\n            : arrDays[day].min;\r\n        arrDays[day].max =\r\n          arrDays[day].max < value.main.temp_max\r\n            ? value.main.temp_max.toFixed(0)\r\n            : arrDays[day].max;\r\n      }\r\n    }\r\n  });\r\n  for (let value in arrDays) {\r\n    refs.days.insertAdjacentHTML('beforeend', templateLi(arrDays[value]));\r\n  }\r\n}\r\n\r\nconst reverseGeocoder = new BDCReverseGeocode();\r\nconst debounce = require('lodash.debounce');\r\n\r\nlet isActive = false;\r\n\r\nfunction loadDefaultRender() {\r\n  reverseGeocoder.getClientLocation(function (result) {\r\n    fetchForeCust(result.localityInfo.administrative[1].name).then(data => {\r\n      buildPostFeed(data);\r\n    });\r\n  });\r\n}\r\n\r\nfunction searchFromInput(e) {\r\n  isActive = true;\r\n  fetchForeCust(e.target.value).then(data => {\r\n    buildPostFeed(data);\r\n    console.log(data);\r\n    let temp = [\r\n      `${data.list[1].main.temp}`,\r\n      `${data.list[2].main.temp}`,\r\n      `${data.list[3].main.temp}`,\r\n      `${data.list[4].main.temp}`,\r\n      `${data.list[5].main.temp}`,\r\n    ];\r\n    let humidity = [\r\n      `${data.list[1].main.humidity}`,\r\n      `${data.list[2].main.humidity}`,\r\n      `${data.list[3].main.humidity}`,\r\n      `${data.list[4].main.humidity}`,\r\n      `${data.list[5].main.humidity}`,\r\n    ];\r\n    let wind = [\r\n      `${data.list[1].wind.speed}`,\r\n      `${data.list[2].wind.speed}`,\r\n      `${data.list[3].wind.speed}`,\r\n      `${data.list[4].wind.speed}`,\r\n      `${data.list[5].wind.speed}`,\r\n    ];\r\n    let pressure = [\r\n      `${data.list[1].main.pressure}`,\r\n      `${data.list[2].main.pressure}`,\r\n      `${data.list[3].main.pressure}`,\r\n      `${data.list[4].main.pressure}`,\r\n      `${data.list[5].main.pressure}`,\r\n    ];\r\n    let dates = [\r\n      `${data.list[1].dt_txt}`,\r\n      `${data.list[2].dt_txt}`,\r\n      `${data.list[3].dt_txt}`,\r\n      `${data.list[4].dt_txt}`,\r\n      `${data.list[5].dt_txt}`,\r\n    ];\r\n  });\r\n}\r\n\r\nif (!isActive) {\r\n  loadDefaultRender();\r\n} else {\r\n  searchFromInput();\r\n}\r\n\r\nrefs.input.addEventListener('input', debounce(searchFromInput, 1500));\r\n","const baseUrl = 'https://corona.lmao.ninja/v2/countries/';\r\nexport default function fetchCovid(query) {\r\n  return fetch(`${baseUrl}${query}`)\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .then(data => {\r\n      renderCovidInfo(data);\r\n    });\r\n}\r\nlet covidRefs = {\r\n  country: document.querySelector('.covidCountry'),\r\n  sickNow: document.querySelector('.sickNow'),\r\n  todayCases: document.querySelector('.todayCases'),\r\n  todayRecovered: document.querySelector('.todayRecovered'),\r\n  todayDeaths: document.querySelector('.todayDeaths'),\r\n  totalCases: document.querySelector('.totalCases'),\r\n  recovered: document.querySelector('.recovered'),\r\n  deaths: document.querySelector('.deaths'),\r\n};\r\nfunction renderCovidInfo(data) {\r\n  covidRefs.country.textContent = `${data.country}`;\r\n  covidRefs.sickNow.textContent = `${data.active}`;\r\n  covidRefs.todayCases.textContent = `${data.todayCases}`;\r\n  covidRefs.todayRecovered.textContent = `${data.todayRecovered}`;\r\n  covidRefs.todayDeaths.textContent = `${data.todayDeaths}`;\r\n  covidRefs.totalCases.textContent = `${data.cases}`;\r\n  covidRefs.recovered.textContent = `${data.recovered}`;\r\n  covidRefs.deaths.textContent = `${data.deaths}`;\r\n}\r\n","const baseUrl =\r\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&category=places,buildings';\r\n// ЗАМЕНИТЬ ПИКСАБЭЙ НА ГУГЛ АПИ\r\n\r\nexport default {\r\n  query: '',\r\n  key: '16836748-77bdb9d8e6a7ff11ccb0a1780',\r\n\r\n  fetchBgImage(ct) {\r\n    return fetch(`${baseUrl}&q=${ct}&key=${this.key}`).then(response =>\r\n      response.json(),\r\n    );\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n};\r\n","import '@pnotify/core/dist/BrightTheme.css';\r\nimport '@pnotify/core/dist/Material.css';\r\nimport '@pnotify/core/dist/PNotify.css';\r\n\r\nimport query from '../api/weather';\r\nimport memoryBuilder from '../templates/memory.hbs';\r\nimport forecast from '../api/forecast';\r\nimport buildPostFeed from './work2';\r\nimport fetchCovid from '../api/corona';\r\nimport fetchPixabay from '../api/pixabay';\r\n\r\nimport getTileUrl from '../api/airq';\r\n\r\nconst debounce = require('lodash.debounce');\r\n\r\nconst refs = {\r\n  body: document.querySelector('body'),\r\n  input: document.querySelector('.main-input'),\r\n  citiesMemory: document.querySelector('.added-city'),\r\n  deleteCityBtn: document.querySelector('.cross-btn'),\r\n  saveCityBtn: document.querySelector('.save-btn'),\r\n  citiesContainer: document.querySelector('.siema'),\r\n  weatherContainerLocation: document.querySelector('.city'),\r\n  weatherCity: document.getElementById('weather_city'),\r\n  currentTemp: document.getElementById('weather_temp'),\r\n  minTemp: document.getElementById('weather-min_temp'),\r\n  //Swtich btn refs\r\n  todayBTN: document.querySelector('.todayBTN'),\r\n  daysBTN: document.querySelector('.daysBTN'),\r\n  maxTemp: document.getElementById('weather-max_temp'),\r\n  weatherIcon: document.getElementById('weather_icon'),\r\n  //   bottom block\r\n  currentDate: document.getElementById('date'),\r\n  currentDay: document.getElementById('day'),\r\n  currentMonth: document.getElementById('month'),\r\n  currentTimeHr: document.getElementById('current-time-hr'),\r\n  currentTimeMin: document.getElementById('current-time-min'),\r\n  sunrise: document.getElementById('sunrise'),\r\n  sunset: document.getElementById('sunset'),\r\n};\r\n\r\n//  ===================  CURRENT CITY START CODE =====================\r\nconst reverseGeocoder = new BDCReverseGeocode();\r\nlet cityName;\r\nwindow.addEventListener('load', loadDefaultRender); ////////////////////////////////////////////// LOADING DOM\r\n\r\nfunction fetchPixabayBgImg(ct) {\r\n  fetchPixabay.fetchBgImage(ct).then(parsedResponse => {\r\n    parsedResponse.hits[getRandomInt()].largeImageURL;\r\n    refs.body.style.backgroundImage = `url(${\r\n      parsedResponse.hits[getRandomInt()].largeImageURL\r\n    })`;\r\n  });\r\n}\r\n\r\n// ===========  CURRENT CITY BY BROWSER'S COORDS\r\nfunction loadDefaultRender() {\r\n  reverseGeocoder.getClientLocation(function (result) {\r\n    fetchPixabay.searchQuery = result.localityInfo.administrative[1].name;\r\n\r\n    fetchPixabayBgImg(fetchPixabay.searchQuery);\r\n\r\n    //========== WEATHER AT CURRENT CITY =================\r\n    query\r\n      .fetchWeather(result.localityInfo.administrative[1].name)\r\n      .then(data => {\r\n        let keys = Object.values(data.sys.country).join('');\r\n        fetchCovid(keys);\r\n\r\n        let airlon = data.coord.lon;\r\n        let airlat = data.coord.lat;\r\n        let map = new google.maps.Map(document.getElementById('map'), {\r\n          center: new google.maps.LatLng(airlat, airlon),\r\n          mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n          zoom: 11,\r\n        });\r\n        let t = new Date().getTime();\r\n        let waqiMapOverlay = new google.maps.ImageMapType({\r\n          getTileUrl: function (coord, zoom) {\r\n            return (\r\n              'https://tiles.aqicn.org/tiles/usepa-aqi/' +\r\n              zoom +\r\n              '/' +\r\n              coord.x +\r\n              '/' +\r\n              coord.y +\r\n              '.png?token=_TOKEN_ID_'\r\n            );\r\n          },\r\n          name: 'Air  Quality',\r\n        });\r\n        map.overlayMapTypes.insertAt(0, waqiMapOverlay);\r\n\r\n        citiesMemoryMarkUp = {\r\n          name: data.name,\r\n          html: memoryBuilder(data),\r\n        };\r\n        updatePageHtml(data);\r\n      })\r\n      .catch(err => {\r\n        const myError = error({\r\n          delay: 2000,\r\n          maxTextHeight: null,\r\n          text: \"CAN'T FIND YOUR REQUEST. PLEASE TRY AGAIN.\",\r\n        });\r\n      });\r\n  });\r\n}\r\n//===================  CURRENT CITY END OF CODE========================\r\n\r\nconst storedCities = JSON.parse(localStorage.getItem('Cities'));\r\n\r\nconst findedCities = [];\r\n\r\nexport default { findedCities, storedCities };\r\n//================ ОТРИСОВКА КАРУСЕЛИ ПРИ ЗАГРУЗКЕ СТРАНИЦЫ ИЗ ЛОКАЛСТОРА\r\nif (storedCities !== null) {\r\n  storedCities.forEach(value => {\r\n    cityName = value;\r\n\r\n    insertCityToTheMemory();\r\n  });\r\n}\r\n\r\nlet citiesMemoryMarkUp = null;\r\n\r\nrefs.input.addEventListener('input', debounce(searchFromInput, 1500));\r\nrefs.saveCityBtn.addEventListener('click', insertCityToTheMemory);\r\ndocument.addEventListener('click', removeCityFromMemory);\r\ndocument.addEventListener('click', renderCityWeather);\r\nrefs.daysBTN.addEventListener('click', hideAndShowYarik);\r\nrefs.todayBTN.addEventListener('click', hideAndShowSasha);\r\n\r\nfunction hideAndShowYarik() {\r\n  document.querySelector('.weather-container').classList.add('toright');\r\n  setTimeout(() => {\r\n    document.getElementById('5days').style = 'display: inline-block';\r\n  }, 1000);\r\n  setTimeout(() => {\r\n    document.getElementById('5days').classList.add('modal');\r\n  }, 1001);\r\n\r\n  document\r\n    .querySelector('.bottom-containers-wrapper')\r\n    .classList.add('tobottom');\r\n  setTimeout(() => {\r\n    document.querySelector('.weather-container').style = 'display: none';\r\n    document.querySelector('.bottom-containers-wrapper').style = 'display:none';\r\n  }, 1050);\r\n  document.querySelector('.btn-wrapper2').style = 'margin-left: 5%';\r\n}\r\nfunction hideAndShowSasha() {\r\n  document.getElementById('5days').classList.add('modalEffects');\r\n  document.getElementById('5days').style = 'display: none';\r\n  document.querySelector('.btn-wrapper2').style = 'margin-left: 5%';\r\n  document.querySelector('.btn-wrapper2').style = 'margin-left: 75%';\r\n\r\n  setTimeout(() => {\r\n    document.getElementById('5days').classList.remove('modalEffects');\r\n  }, 1500);\r\n  document.getElementById('5days').classList.remove('modal');\r\n  document.querySelector('.weather-container').style = 'display: flex';\r\n  document.querySelector('.bottom-containers-wrapper').style = 'display:flex';\r\n  setTimeout(() => {\r\n    document.querySelector('.weather-container').classList.remove('toright');\r\n    document\r\n      .querySelector('.bottom-containers-wrapper')\r\n      .classList.remove('tobottom');\r\n  }, 10);\r\n}\r\n\r\nfunction renderCityWeather(e) {\r\n  if (e.target.className !== 'added-city') {\r\n    return;\r\n  }\r\n  const clickedCityName = e.target.textContent;\r\n  fetchPixabay.searchQuery = clickedCityName;\r\n  refs.input.value = '';\r\n\r\n  query.fetchWeather(clickedCityName).then(data => {\r\n    let keys = Object.values(data.sys.country).join('');\r\n    fetchCovid(keys);\r\n    fetchPixabayBgImg(keys);\r\n    updatePageHtml(data);\r\n\r\n    fetchPixabay.searchQuery = data.name;\r\n\r\n    citiesMemoryMarkUp = {\r\n      name: data.name,\r\n      html: memoryBuilder(data),\r\n    };\r\n    forecast(clickedCityName).then(data => buildPostFeed(data));\r\n  });\r\n  fetchPixabayBgImg(fetchPixabay.searchQuery);\r\n}\r\n\r\nfunction searchFromInput(e) {\r\n  let city = e.target.value;\r\n\r\n  query\r\n    .fetchWeather(city)\r\n    .then(data => {\r\n      let keys = Object.values(data.sys.country).join('');\r\n      fetchCovid(keys);\r\n\r\n      let airlon = data.coord.lon;\r\n      let airlat = data.coord.lat;\r\n      let map = new google.maps.Map(document.getElementById('map'), {\r\n        center: new google.maps.LatLng(airlat, airlon),\r\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n        zoom: 11,\r\n      });\r\n      let t = new Date().getTime();\r\n      let waqiMapOverlay = new google.maps.ImageMapType({\r\n        getTileUrl: function (coord, zoom) {\r\n          return (\r\n            'https://tiles.aqicn.org/tiles/usepa-aqi/' +\r\n            zoom +\r\n            '/' +\r\n            coord.x +\r\n            '/' +\r\n            coord.y +\r\n            '.png?token=_TOKEN_ID_'\r\n          );\r\n        },\r\n        name: 'Air  Quality',\r\n      });\r\n      map.overlayMapTypes.insertAt(0, waqiMapOverlay);\r\n\r\n      if (data.cod === 200 && !findedCities.includes(data.name)) {\r\n        refs.saveCityBtn.classList.remove('starred');\r\n        fetchPixabay.searchQuery = data.name;\r\n        fetchPixabayBgImg(fetchPixabay.searchQuery);\r\n        cityName = data.name;\r\n        citiesMemoryMarkUp = {\r\n          name: data.name,\r\n          html: memoryBuilder(data),\r\n        };\r\n        updatePageHtml(data);\r\n      } else {\r\n        citiesMemoryMarkUp = null;\r\n      }\r\n    })\r\n    .catch(err => {\r\n      const myError = error({\r\n        delay: 2000,\r\n        maxTextHeight: null,\r\n        text: \"CAN'T FIND YOUR REQUEST. PLEASE TRY AGAIN.\",\r\n      });\r\n    });\r\n}\r\n\r\nfunction insertCityToTheMemory() {\r\n  refs.saveCityBtn.classList.add('starred');\r\n  setTimeout(() => {\r\n    refs.saveCityBtn.classList.remove('starred');\r\n  }, 250);\r\n\r\n  let value = cityName;\r\n\r\n  if (!value || findedCities.includes(value)) {\r\n    return;\r\n  }\r\n\r\n  findedCities.push(value);\r\n  if (findedCities.length >= 7) {\r\n    findedCities.splice(0, 1);\r\n  }\r\n\r\n  const allLi = findedCities\r\n    .map(\r\n      city => `\r\n        <div id=${city} class=\"btn-wrapper\">\r\n          <span class=\"added-city\">${city}</span>\r\n          <button class=\"cross-btn\" data-id=${city}></button>\r\n        </div>`,\r\n    )\r\n    .join('');\r\n\r\n  refs.citiesContainer.innerHTML = allLi;\r\n  refs.input.value = '';\r\n  localStorage.setItem('Cities', JSON.stringify(findedCities));\r\n}\r\n\r\n//   findedCities.length > 4 ? 4 : findedCities.length\r\n\r\nfunction removeCityFromMemory(e) {\r\n  if (e.target && e.target.className === 'cross-btn') {\r\n    let id = e.target.dataset.id;\r\n    document.getElementById(id).remove();\r\n    findedCities.splice(findedCities.indexOf(id), 1);\r\n    // УДАЛЕНИE ЭЛЕМЕНТА ИЗ МАССИВА B ЛОКАЛЬНОM ХРАНИЛИЩE\r\n    storedCities.splice(storedCities.indexOf(id), 1);\r\n    localStorage.setItem('Cities', JSON.stringify(storedCities));\r\n  }\r\n}\r\n\r\nfunction updatePageHtml(data) {\r\n  if (data.cod === 200) {\r\n    let img = `http://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;\r\n    let dt = new Date(data.dt * 1000);\r\n    refs.weatherIcon.src = img;\r\n    refs.weatherIcon.classList.add('visible');\r\n    refs.weatherCity.textContent = `${data.name}, ${data.sys.country}`;\r\n    refs.currentTemp.textContent = `${data.main.temp.toFixed(1)}`;\r\n    refs.minTemp.textContent = `${data.main.temp_min.toFixed(1)}`;\r\n    refs.maxTemp.textContent = `${data.main.temp_max.toFixed(1)}`;\r\n    refs.currentDate.textContent = dt.getDate();\r\n    refs.currentDay.textContent = dt.toLocaleDateString('en-US', {\r\n      weekday: 'short',\r\n    });\r\n    refs.currentMonth.textContent = dt.toLocaleDateString('en-US', {\r\n      month: 'long',\r\n    });\r\n    refs.currentTimeHr.textContent = String(dt.getHours()).padStart(2, 0) + ':';\r\n    refs.currentTimeMin.textContent = String(dt.getMinutes()).padStart(2, 0);\r\n    refs.sunrise.textContent =\r\n      String(new Date(data.sys.sunrise * 1000).getHours()).padStart(2, 0) +\r\n      ':' +\r\n      String(new Date(data.sys.sunrise * 1000).getMinutes()).padStart(2, 0);\r\n    refs.sunset.textContent =\r\n      String(new Date(data.sys.sunset * 1000).getHours()).padStart(2, 0) +\r\n      ':' +\r\n      String(new Date(data.sys.sunset * 1000).getMinutes()).padStart(2, 0);\r\n  }\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n  min = 1;\r\n  max = 20;\r\n  return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive\r\n}\r\n","import query from '../api/weather';\r\nimport data from '../js/requests';\r\nimport fetchCovid from '../api/corona';\r\nimport fetchPx from '../api/pixabay';\r\nimport buildPostFeed from '../js/work2';\r\nimport fetchForeCust from '../api/forecast';\r\n\r\nfunction getRandomInt(min, max) {\r\n  min = 1;\r\n  max = 20;\r\n  return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive\r\n}\r\n\r\nconst talkBtn = document.querySelector('.talk-btn');\r\nconsole.dir(talkBtn);\r\ntalkBtn.addEventListener('click', makeSpeech);\r\nconst inputSpeech = document.querySelector('.main-input');\r\n\r\nconst refs = {\r\n  body: document.querySelector('body'),\r\n  input: document.querySelector('.main-input'),\r\n  citiesMemory: document.querySelector('.added-city'),\r\n  deleteCityBtn: document.querySelector('.cross-btn'),\r\n  saveCityBtn: document.querySelector('.save-btn'),\r\n  citiesContainer: document.querySelector('.siema'),\r\n  weatherContainerLocation: document.querySelector('.city'),\r\n  weatherCity: document.getElementById('weather_city'),\r\n  currentTemp: document.getElementById('weather_temp'),\r\n  minTemp: document.getElementById('weather-min_temp'),\r\n  maxTemp: document.getElementById('weather-max_temp'),\r\n  weatherIcon: document.getElementById('weather_icon'),\r\n  //   bottom block\r\n  currentDate: document.getElementById('date'),\r\n  currentDay: document.getElementById('day'),\r\n  currentMonth: document.getElementById('month'),\r\n  currentTimeHr: document.getElementById('current-time-hr'),\r\n  currentTimeMin: document.getElementById('current-time-min'),\r\n  sunrise: document.getElementById('sunrise'),\r\n  sunset: document.getElementById('sunset'),\r\n};\r\n\r\nfunction makeSpeech() {\r\n  let SpeechRecognition = new (window.SpeechRecognition ||\r\n    window.webkitSpeechRecognition ||\r\n    window.mozSpeechRecognition ||\r\n    window.msSpeechRecognition)();\r\n  SpeechRecognition.lang = 'ru-RU';\r\n  console.log(SpeechRecognition);\r\n  SpeechRecognition.onresult = function resSpeech(event) {\r\n    let voiceCity = event.results[0][0].transcript;\r\n\r\n    inputSpeech.value = voiceCity;\r\n    if (inputSpeech.value !== '') {\r\n      makeSearch(voiceCity);\r\n    }\r\n  };\r\n  SpeechRecognition.start();\r\n}\r\n\r\nfunction makeSearch(city) {\r\n  query.fetchWeather(city).then(data => {\r\n    let keys = Object.values(data.sys.country).join('');\r\n    fetchCovid(keys);\r\n    updatePageHtml(data);\r\n    fetchPixabyBgImg(data.name);\r\n    insertCityToTheMemor(data.name);\r\n    let airlon = data.coord.lon;\r\n    let airlat = data.coord.lat;\r\n    let map = new google.maps.Map(document.getElementById('map'), {\r\n      center: new google.maps.LatLng(airlat, airlon),\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n      zoom: 11,\r\n    });\r\n    fetchForeCust(city).then(data => buildPostFeed(data));\r\n    let t = new Date().getTime();\r\n    let waqiMapOverlay = new google.maps.ImageMapType({\r\n      getTileUrl: function (coord, zoom) {\r\n        return (\r\n          'https://tiles.aqicn.org/tiles/usepa-aqi/' +\r\n          zoom +\r\n          '/' +\r\n          coord.x +\r\n          '/' +\r\n          coord.y +\r\n          '.png?token=_TOKEN_ID_'\r\n        );\r\n      },\r\n      name: 'Air  Quality',\r\n    });\r\n    map.overlayMapTypes.insertAt(0, waqiMapOverlay);\r\n  });\r\n\r\n  function updatePageHtml(data) {\r\n    if (data.cod === 200) {\r\n      let img = `http://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;\r\n      let dt = new Date(data.dt * 1000);\r\n      refs.weatherIcon.src = img;\r\n      refs.weatherIcon.classList.add('visible');\r\n      refs.weatherCity.textContent = `${data.name}, ${data.sys.country}`;\r\n      refs.currentTemp.textContent = `${data.main.temp.toFixed(1)}`;\r\n      refs.minTemp.textContent = `${data.main.temp_min.toFixed(1)}`;\r\n      refs.maxTemp.textContent = `${data.main.temp_max.toFixed(1)}`;\r\n      refs.currentDate.textContent = dt.getDate();\r\n      refs.currentDay.textContent = dt.toLocaleDateString('en-US', {\r\n        weekday: 'short',\r\n      });\r\n      refs.currentMonth.textContent = dt.toLocaleDateString('en-US', {\r\n        month: 'long',\r\n      });\r\n      refs.currentTimeHr.textContent =\r\n        String(dt.getHours()).padStart(2, 0) + ':';\r\n      refs.currentTimeMin.textContent = String(dt.getMinutes()).padStart(2, 0);\r\n      refs.sunrise.textContent =\r\n        String(new Date(data.sys.sunrise * 1000).getHours()).padStart(2, 0) +\r\n        ':' +\r\n        String(new Date(data.sys.sunrise * 1000).getMinutes()).padStart(2, 0);\r\n      refs.sunset.textContent =\r\n        String(new Date(data.sys.sunset * 1000).getHours()).padStart(2, 0) +\r\n        ':' +\r\n        String(new Date(data.sys.sunset * 1000).getMinutes()).padStart(2, 0);\r\n    }\r\n  }\r\n}\r\nfunction fetchPixabyBgImg(ct) {\r\n  fetchPx.fetchBgImage(ct).then(parsedResponse => {\r\n    refs.body.style.backgroundImage = `url(${\r\n      parsedResponse.hits[getRandomInt()].largeImageURL\r\n    })`;\r\n  });\r\n}\r\n\r\nfunction insertCityToTheMemor(name) {\r\n  refs.saveCityBtn.classList.add('starred');\r\n  setTimeout(() => {\r\n    refs.saveCityBtn.classList.remove('starred');\r\n  }, 250);\r\n\r\n  if (!name || data.findedCities.includes(name)) {\r\n    return;\r\n  }\r\n\r\n  data.findedCities.push(name);\r\n  if (data.findedCities.length >= 7) {\r\n    data.findedCities.splice(0, 1);\r\n  }\r\n  console.log(data.findedCities);\r\n  const allLi = data.findedCities\r\n    .map(\r\n      city => `\r\n\t\t  <div id=${city} class=\"btn-wrapper\">\r\n\t\t\t<span class=\"added-city\">${city}</span>\r\n\t\t\t<button class=\"cross-btn\" data-id=${city}></button>\r\n\t\t  </div>`,\r\n    )\r\n    .join('');\r\n\r\n  refs.citiesContainer.innerHTML = allLi;\r\n  refs.input.value = '';\r\n  localStorage.setItem('Cities', JSON.stringify(data.findedCities));\r\n}\r\n","\r\n\r\nlet map = new google.maps.Map(document.getElementById('map'), {\r\n\tcenter: new google.maps.LatLng(),\r\n\tmapTypeId: google.maps.MapTypeId.ROADMAP,\r\n\tzoom: 11,\r\n});\r\nlet t = new Date().getTime();\r\nlet waqiMapOverlay = new google.maps.ImageMapType({\r\n\tgetTileUrl: function (coord, zoom) {\r\n\t\treturn (\r\n\t\t\t'https://tiles.aqicn.org/tiles/usepa-aqi/' +\r\n\t\t\tzoom +\r\n\t\t\t'/' +\r\n\t\t\tcoord.x +\r\n\t\t\t'/' +\r\n\t\t\tcoord.y +\r\n\t\t\t'.png?token=_TOKEN_ID_'\r\n\t\t);\r\n\t},\r\n\tname: 'Air  Quality',\r\n\r\n});\r\nmap.overlayMapTypes.insertAt(0, waqiMapOverlay);","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" <li class=\\\"list--item\\\">\\r\\n        <h2 class=\\\"name--day\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":30},\"end\":{\"line\":2,\"column\":38}}}) : helper)))\n    + \"</h2>\\r\\n        <p class=\\\"date-yarik\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"date\") || (depth0 != null ? lookupProperty(depth0,\"date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":30},\"end\":{\"line\":3,\"column\":38}}}) : helper)))\n    + \"</p>\\r\\n        <div class=\\\"icon--overley\\\">\\r\\n          <img src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"icon\") || (depth0 != null ? lookupProperty(depth0,\"icon\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"icon\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":19},\"end\":{\"line\":5,\"column\":27}}}) : helper)))\n    + \" class=\\\"icon--weather\\\"/>\\r\\n        </div>\\r\\n        <div class=\\\"temp\\\">\\r\\n          <p class=\\\"min-temp\\\">min <br> <span class=\\\"num\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"min\") || (depth0 != null ? lookupProperty(depth0,\"min\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"min\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":57},\"end\":{\"line\":8,\"column\":64}}}) : helper)))\n    + \"</span> </p>\\r\\n          <div class=\\\"line\\\"></div>\\r\\n          <p class=\\\"max-temp\\\">max <br> <span class=\\\"num\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"max\") || (depth0 != null ? lookupProperty(depth0,\"max\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"max\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":57},\"end\":{\"line\":10,\"column\":64}}}) : helper)))\n    + \"</span></p>\\r\\n        </div>\\r\\n</li>\";\n},\"useData\":true});"],"sourceRoot":""}