(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"++so":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div id="+c("function"==typeof(i=null!=(i=l(n,"name")||(null!=t?l(t,"name"):t))?i:s)?i.call(r,{name:"name",hash:{},data:o,loc:{start:{line:1,column:8},end:{line:1,column:16}}}):i)+' class="btn-wrapper"><span class="added-city">'+c("function"==typeof(i=null!=(i=l(n,"name")||(null!=t?l(t,"name"):t))?i:s)?i.call(r,{name:"name",hash:{},data:o,loc:{start:{line:1,column:62},end:{line:1,column:70}}}):i)+'</span><button class="cross-btn"\r\n        data-id='+c("function"==typeof(i=null!=(i=l(n,"name")||(null!=t?l(t,"name"):t))?i:s)?i.call(r,{name:"name",hash:{},data:o,loc:{start:{line:2,column:16},end:{line:2,column:24}}}):i)+"></button>\r\n</div>"},useData:!0})},L1EO:function(e,t,n){},Ncyu:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("JBxO"),n("FdtR");var a=function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&units=metric&appid=51a63d6e6f44d74434ee7d0893876caf").then((function(e){return e.json()}))},o=(n("L1EO"),n("Ncyu"),n("RtS0"),n("IvQZ"),n("uQK7"),n("8cZI"),n("lmye"),n("Xlt+"),n("D/wG"),n("ZEAQ"),n("JjHl"),n("e+qc"),n("3dw1"),n("zrP5"),n("JauC"),n("bzha"),n("++so")),i=n.n(o);function r(e){return fetch("https://api.openweathermap.org/data/2.5/forecast?q="+e+"&units=metric&appid=51a63d6e6f44d74434ee7d0893876caf").then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}var s=n("qlKC"),c=n.n(s),l={CCName:document.querySelector(".cityName"),input:document.querySelector(".main-input"),modal:document.querySelector(".list-modal"),days:document.querySelector(".list--days"),modalLink:document.querySelectorAll(".more-info")};function m(e){e.list;var t={},n=e.city.name+", "+e.city.country;for(var a in l.CCName.textContent=n,e.list.forEach((function(e){var n=new Date(1e3*e.dt);l.days.textContent="",n.getDay(),(new Date).getDay();var a=n.toLocaleDateString("en-US",{weekday:"long"});void 0===t[a]?t[a]={name:a,date:n.getDate()+" "+n.toLocaleDateString("en-US",{month:"short"}),icon:"http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",min:e.main.temp_min.toFixed(0),max:e.main.temp_max.toFixed(0)}:(t[a].min=t[a].min>e.main.temp_min?e.main.temp_min.toFixed(0):t[a].min,t[a].max=t[a].max<e.main.temp_max?e.main.temp_max.toFixed(0):t[a].max)})),t)l.days.insertAdjacentHTML("beforeend",c()(t[a]))}var u=new BDCReverseGeocode,d=n("jffb"),y=!1;function p(e){y=!0,r(e.target.value).then((function(e){m(e),console.log(e);e.list[1].main.temp,e.list[2].main.temp,e.list[3].main.temp,e.list[4].main.temp,e.list[5].main.temp,e.list[1].main.humidity,e.list[2].main.humidity,e.list[3].main.humidity,e.list[4].main.humidity,e.list[5].main.humidity,e.list[1].wind.speed,e.list[2].wind.speed,e.list[3].wind.speed,e.list[4].wind.speed,e.list[5].wind.speed,e.list[1].main.pressure,e.list[2].main.pressure,e.list[3].main.pressure,e.list[4].main.pressure,e.list[5].main.pressure,e.list[1].dt_txt,e.list[2].dt_txt,e.list[3].dt_txt,e.list[4].dt_txt,e.list[5].dt_txt}))}y?p():u.getClientLocation((function(e){r(e.localityInfo.administrative[1].name).then((function(e){m(e)}))})),l.input.addEventListener("input",d(p,1500));function g(e){return fetch("https://corona.lmao.ninja/v2/countries/"+e).then((function(e){return e.json()})).then((function(e){!function(e){h.country.textContent=""+e.country,h.sickNow.textContent=""+e.active,h.todayCases.textContent=""+e.todayCases,h.todayRecovered.textContent=""+e.todayRecovered,h.todayDeaths.textContent=""+e.todayDeaths,h.totalCases.textContent=""+e.cases,h.recovered.textContent=""+e.recovered,h.deaths.textContent=""+e.deaths}(e)}))}var h={country:document.querySelector(".covidCountry"),sickNow:document.querySelector(".sickNow"),todayCases:document.querySelector(".todayCases"),todayRecovered:document.querySelector(".todayRecovered"),todayDeaths:document.querySelector(".todayDeaths"),totalCases:document.querySelector(".totalCases"),recovered:document.querySelector(".recovered"),deaths:document.querySelector(".deaths")};var f,w={query:"",key:"16836748-77bdb9d8e6a7ff11ccb0a1780",fetchBgImage:function(e){return fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&category=places,buildings&q="+e+"&key="+this.key).then((function(e){return e.json()}))},get searchQuery(){return this.query},set searchQuery(e){this.query=e}},v=(n("RMUO"),n("jffb")),S={body:document.querySelector("body"),input:document.querySelector(".main-input"),citiesMemory:document.querySelector(".added-city"),deleteCityBtn:document.querySelector(".cross-btn"),saveCityBtn:document.querySelector(".save-btn"),citiesContainer:document.querySelector(".siema"),weatherContainerLocation:document.querySelector(".city"),weatherCity:document.getElementById("weather_city"),currentTemp:document.getElementById("weather_temp"),minTemp:document.getElementById("weather-min_temp"),todayBTN:document.querySelector(".todayBTN"),daysBTN:document.querySelector(".daysBTN"),maxTemp:document.getElementById("weather-max_temp"),weatherIcon:document.getElementById("weather_icon"),currentDate:document.getElementById("date"),currentDay:document.getElementById("day"),currentMonth:document.getElementById("month"),currentTimeHr:document.getElementById("current-time-hr"),currentTimeMin:document.getElementById("current-time-min"),sunrise:document.getElementById("sunrise"),sunset:document.getElementById("sunset")},x=new BDCReverseGeocode;function C(e){w.fetchBgImage(e).then((function(e){e.hits[B()].largeImageURL,S.body.style.backgroundImage="url("+e.hits[B()].largeImageURL+")"}))}window.addEventListener("load",(function(){x.getClientLocation((function(e){w.searchQuery=e.localityInfo.administrative[1].name,C(w.searchQuery),a(e.localityInfo.administrative[1].name).then((function(e){g(Object.values(e.sys.country).join(""));var t=e.coord.lon,n=e.coord.lat,a=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(n,t),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11}),o=((new Date).getTime(),new google.maps.ImageMapType({getTileUrl:function(e,t){return"https://tiles.aqicn.org/tiles/usepa-aqi/"+t+"/"+e.x+"/"+e.y+".png?token=_TOKEN_ID_"},name:"Air  Quality"}));a.overlayMapTypes.insertAt(0,o),{name:e.name,html:i()(e)},b(e)})).catch((function(e){error({delay:2e3,maxTextHeight:null,text:"CAN'T FIND YOUR REQUEST. PLEASE TRY AGAIN."})}))}))}));var I=JSON.parse(localStorage.getItem("Cities")),T=[],E={findedCities:T,storedCities:I};null!==I&&I.forEach((function(e){f=e,q()}));function q(){S.saveCityBtn.classList.add("starred"),setTimeout((function(){S.saveCityBtn.classList.remove("starred")}),250);var e=f;if(e&&!T.includes(e)){T.push(e),T.length>=7&&T.splice(0,1);var t=T.map((function(e){return"\n        <div id="+e+' class="btn-wrapper">\n          <span class="added-city">'+e+'</span>\n          <button class="cross-btn" data-id='+e+"></button>\n        </div>"})).join("");S.citiesContainer.innerHTML=t,S.input.value="",localStorage.setItem("Cities",JSON.stringify(T))}}function b(e){if(200===e.cod){var t="http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",n=new Date(1e3*e.dt);S.weatherIcon.src=t,S.weatherIcon.classList.add("visible"),S.weatherCity.textContent=e.name+", "+e.sys.country,S.currentTemp.textContent=""+e.main.temp.toFixed(1),S.minTemp.textContent=""+e.main.temp_min.toFixed(1),S.maxTemp.textContent=""+e.main.temp_max.toFixed(1),S.currentDate.textContent=n.getDate(),S.currentDay.textContent=n.toLocaleDateString("en-US",{weekday:"short"}),S.currentMonth.textContent=n.toLocaleDateString("en-US",{month:"long"}),S.currentTimeHr.textContent=String(n.getHours()).padStart(2,0)+":",S.currentTimeMin.textContent=String(n.getMinutes()).padStart(2,0),S.sunrise.textContent=String(new Date(1e3*e.sys.sunrise).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunrise).getMinutes()).padStart(2,0),S.sunset.textContent=String(new Date(1e3*e.sys.sunset).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunset).getMinutes()).padStart(2,0)}}function B(e,t){return 1,20,Math.floor(19*Math.random())+1}S.input.addEventListener("input",v((function(e){var t=e.target.value;a(t).then((function(e){g(Object.values(e.sys.country).join(""));var t=e.coord.lon,n=e.coord.lat,a=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(n,t),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11}),o=((new Date).getTime(),new google.maps.ImageMapType({getTileUrl:function(e,t){return"https://tiles.aqicn.org/tiles/usepa-aqi/"+t+"/"+e.x+"/"+e.y+".png?token=_TOKEN_ID_"},name:"Air  Quality"}));a.overlayMapTypes.insertAt(0,o),200!==e.cod||T.includes(e.name)?null:(S.saveCityBtn.classList.remove("starred"),w.searchQuery=e.name,C(w.searchQuery),f=e.name,{name:e.name,html:i()(e)},b(e))})).catch((function(e){error({delay:2e3,maxTextHeight:null,text:"CAN'T FIND YOUR REQUEST. PLEASE TRY AGAIN."})}))}),1500)),S.saveCityBtn.addEventListener("click",q),document.addEventListener("click",(function(e){if(e.target&&"cross-btn"===e.target.className){var t=e.target.dataset.id;document.getElementById(t).remove(),T.splice(T.indexOf(t),1),I.splice(I.indexOf(t),1),localStorage.setItem("Cities",JSON.stringify(I))}})),document.addEventListener("click",(function(e){if("added-city"!==e.target.className)return;var t=e.target.textContent;w.searchQuery=t,S.input.value="",a(t).then((function(e){var n=Object.values(e.sys.country).join("");g(n),C(n),b(e),w.searchQuery=e.name,{name:e.name,html:i()(e)},r(t).then((function(e){return m(e)}))})),C(w.searchQuery)})),S.daysBTN.addEventListener("click",(function(){document.querySelector(".weather-container").classList.add("toright"),setTimeout((function(){document.getElementById("5days").style="display: inline-block"}),1e3),setTimeout((function(){document.getElementById("5days").classList.add("modal")}),1001),document.querySelector(".bottom-containers-wrapper").classList.add("tobottom"),setTimeout((function(){document.querySelector(".weather-container").style="display: none",document.querySelector(".bottom-containers-wrapper").style="display:none"}),1050),document.querySelector(".btn-wrapper2").style="margin-left: 5%"})),S.todayBTN.addEventListener("click",(function(){document.getElementById("5days").classList.add("modalEffects"),document.getElementById("5days").style="display: none",document.querySelector(".btn-wrapper2").style="margin-left: 5%",document.querySelector(".btn-wrapper2").style="margin-left: 75%",setTimeout((function(){document.getElementById("5days").classList.remove("modalEffects")}),1500),document.getElementById("5days").classList.remove("modal"),document.querySelector(".weather-container").style="display: flex",document.querySelector(".bottom-containers-wrapper").style="display:flex",setTimeout((function(){document.querySelector(".weather-container").classList.remove("toright"),document.querySelector(".bottom-containers-wrapper").classList.remove("tobottom")}),10)}));n("4NM0");var D=document.querySelector(".talk-btn");console.dir(D),D.addEventListener("click",(function(){var e=new(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition);e.lang="ru-RU",console.log(e),e.onresult=function(e){var t,n=e.results[0][0].transcript;L.value=n,""!==L.value&&a(t=n).then((function(e){var n;g(Object.values(e.sys.country).join("")),function(e){if(200===e.cod){var t="http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",n=new Date(1e3*e.dt);M.weatherIcon.src=t,M.weatherIcon.classList.add("visible"),M.weatherCity.textContent=e.name+", "+e.sys.country,M.currentTemp.textContent=""+e.main.temp.toFixed(1),M.minTemp.textContent=""+e.main.temp_min.toFixed(1),M.maxTemp.textContent=""+e.main.temp_max.toFixed(1),M.currentDate.textContent=n.getDate(),M.currentDay.textContent=n.toLocaleDateString("en-US",{weekday:"short"}),M.currentMonth.textContent=n.toLocaleDateString("en-US",{month:"long"}),M.currentTimeHr.textContent=String(n.getHours()).padStart(2,0)+":",M.currentTimeMin.textContent=String(n.getMinutes()).padStart(2,0),M.sunrise.textContent=String(new Date(1e3*e.sys.sunrise).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunrise).getMinutes()).padStart(2,0),M.sunset.textContent=String(new Date(1e3*e.sys.sunset).getHours()).padStart(2,0)+":"+String(new Date(1e3*e.sys.sunset).getMinutes()).padStart(2,0)}}(e),n=e.name,w.fetchBgImage(n).then((function(e){M.body.style.backgroundImage="url("+e.hits[Math.floor(19*Math.random())+1].largeImageURL+")"})),function(e){if(M.saveCityBtn.classList.add("starred"),setTimeout((function(){M.saveCityBtn.classList.remove("starred")}),250),e&&!E.findedCities.includes(e)){E.findedCities.push(e),E.findedCities.length>=7&&E.findedCities.splice(0,1),console.log(E.findedCities);var t=E.findedCities.map((function(e){return"\n\t\t  <div id="+e+' class="btn-wrapper">\n\t\t\t<span class="added-city">'+e+'</span>\n\t\t\t<button class="cross-btn" data-id='+e+"></button>\n\t\t  </div>"})).join("");M.citiesContainer.innerHTML=t,M.input.value="",localStorage.setItem("Cities",JSON.stringify(E.findedCities))}}(e.name);var a=e.coord.lon,o=e.coord.lat,i=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(o,a),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11});r(t).then((function(e){return m(e)})),(new Date).getTime();var s=new google.maps.ImageMapType({getTileUrl:function(e,t){return"https://tiles.aqicn.org/tiles/usepa-aqi/"+t+"/"+e.x+"/"+e.y+".png?token=_TOKEN_ID_"},name:"Air  Quality"});i.overlayMapTypes.insertAt(0,s)}))},e.start()}));var L=document.querySelector(".main-input"),M={body:document.querySelector("body"),input:document.querySelector(".main-input"),citiesMemory:document.querySelector(".added-city"),deleteCityBtn:document.querySelector(".cross-btn"),saveCityBtn:document.querySelector(".save-btn"),citiesContainer:document.querySelector(".siema"),weatherContainerLocation:document.querySelector(".city"),weatherCity:document.getElementById("weather_city"),currentTemp:document.getElementById("weather_temp"),minTemp:document.getElementById("weather-min_temp"),maxTemp:document.getElementById("weather-max_temp"),weatherIcon:document.getElementById("weather_icon"),currentDate:document.getElementById("date"),currentDay:document.getElementById("day"),currentMonth:document.getElementById("month"),currentTimeHr:document.getElementById("current-time-hr"),currentTimeMin:document.getElementById("current-time-min"),sunrise:document.getElementById("sunrise"),sunset:document.getElementById("sunset")}},RMUO:function(e,t){var n=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng,mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:11}),a=((new Date).getTime(),new google.maps.ImageMapType({getTileUrl:function(e,t){return"https://tiles.aqicn.org/tiles/usepa-aqi/"+t+"/"+e.x+"/"+e.y+".png?token=_TOKEN_ID_"},name:"Air  Quality"}));n.overlayMapTypes.insertAt(0,a)},qlKC:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",l=e.escapeExpression,m=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li class="list--item">\r\n        <h2 class="name--day">'+l(typeof(i=null!=(i=m(n,"name")||(null!=t?m(t,"name"):t))?i:s)===c?i.call(r,{name:"name",hash:{},data:o,loc:{start:{line:2,column:30},end:{line:2,column:38}}}):i)+'</h2>\r\n        <p class="date-yarik">'+l(typeof(i=null!=(i=m(n,"date")||(null!=t?m(t,"date"):t))?i:s)===c?i.call(r,{name:"date",hash:{},data:o,loc:{start:{line:3,column:30},end:{line:3,column:38}}}):i)+'</p>\r\n        <div class="icon--overley">\r\n          <img src='+l(typeof(i=null!=(i=m(n,"icon")||(null!=t?m(t,"icon"):t))?i:s)===c?i.call(r,{name:"icon",hash:{},data:o,loc:{start:{line:5,column:19},end:{line:5,column:27}}}):i)+' class="icon--weather"/>\r\n        </div>\r\n        <div class="temp">\r\n          <p class="min-temp">min <br> <span class="num">'+l(typeof(i=null!=(i=m(n,"min")||(null!=t?m(t,"min"):t))?i:s)===c?i.call(r,{name:"min",hash:{},data:o,loc:{start:{line:8,column:57},end:{line:8,column:64}}}):i)+'</span> </p>\r\n          <div class="line"></div>\r\n          <p class="max-temp">max <br> <span class="num">'+l(typeof(i=null!=(i=m(n,"max")||(null!=t?m(t,"max"):t))?i:s)===c?i.call(r,{name:"max",hash:{},data:o,loc:{start:{line:10,column:57},end:{line:10,column:64}}}):i)+"</span></p>\r\n        </div>\r\n</li>"},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.29b7c0e566b02f7117d6.js.map